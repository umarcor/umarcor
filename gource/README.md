# Gource and FFmpeg

Actions [gource/logs](logs) and [gource/video](video), along with container images built with the sources in [containers](containers),
allow generating [Gource](https://gource.io/) videos of multiple (optionally) combined git repositories.

Action [gource/logs](logs) accepts a JSON dictionary of objects (one per job/video), clones all the repositories using git,
and extracts the logs using gource.
Optionally, the content of a `.mailmap` can be provided as a comma-separated list.
At the same time, the lists of authors are saved.
Logs and author lists are uploaded as an artifact.

Action [gource/video](video) accepts a single job object and the artifact generated with *gource/logs*.
The logs are combined according to the hierarchy specified in the *tree* field of the job, and a video is generated by
running gource on `xvfb-run` and piping the output to `ffmpeg`.
Moreover, a `.jpg` of the last half second is captured.
The video and the frame capture are uploaded as an artifact.

Furthermore, in this repository a YAML file is used for defining multiple jobs (videos) at once.
See [config.yml](config.yml) and [../.github/workflows/Gource.yml](../.github/workflows/Gource.yml).

## References

- [acaudwell/Gource](https://github.com/acaudwell/Gource)
  - [acaudwell/Gource/wiki: Custom-Log-Format](https://github.com/acaudwell/Gource/wiki/Custom-Log-Format)
  - [acaudwell/Gource/wiki: Visualizing-Multiple-Repositories](https://github.com/acaudwell/Gource/wiki/Visualizing-Multiple-Repositories)
  - [acaudwell/Gource/wiki: Videos](https://github.com/acaudwell/Gource/wiki/Videos)
  - [acaudwell/Gource/wiki: Captions](https://github.com/acaudwell/Gource/wiki/Captions)
  - [acaudwell/Gource/wiki: Gravatar-Example](https://github.com/acaudwell/Gource/wiki/Gravatar-Example)
- [trac.ffmpeg.org/wiki/Encode/H.264](https://trac.ffmpeg.org/wiki/Encode/H.264)
- [pyTooling/Actions](https://github.com/pyTooling/Actions)
